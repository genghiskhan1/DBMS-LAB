DROP TABLE SUPPLY;
DROP TABLE SUPPLIER;
DROP TABLE PART;

CREATE TABLE PART (
PNO NUMBER(10) PRIMARY KEY,
PNAME VARCHAR(10) NOT NULL,
COLOUR VARCHAR(10) NOT NULL
);

INSERT INTO PART VALUES(1,'BOLTS','BLACK');
INSERT INTO PART VALUES(2,'DRIVERS','GREEN');
INSERT INTO PART VALUES(3,'FANS','BLACK');
INSERT INTO PART VALUES(4,'SCREWS','GREEN');

CREATE TABLE SUPPLIER (
SNO NUMBER(10) PRIMARY KEY,
SNAME VARCHAR(10) NOT NULL,
ADDRESS VARCHAR(10) NOT NULL
);

INSERT INTO SUPPLIER VALUES(10,'RAM','MYSORE');
INSERT INTO SUPPLIER VALUES(11,'GARAM','BANGALORE');

CREATE TABLE SUPPLY (
PNO NUMBER(10) NOT NULL,
SNO NUMBER(10) NOT NULL,
QUANTITY NUMBER(10) NOT NULL,
FOREIGN KEY (PNO) REFERENCES PART (PNO) ON DELETE CASCADE,
FOREIGN KEY (SNO) REFERENCES SUPPLIER (SNO) ON DELETE CASCADE,
PRIMARY KEY(PNO,SNO)
);

INSERT INTO SUPPLY VALUES(1,10,100);
INSERT INTO SUPPLY VALUES(1,11,200);
INSERT INTO SUPPLY VALUES(2,10,100);
INSERT INTO SUPPLY VALUES(3,11,200);
INSERT INTO SUPPLY VALUES(4,10,100);
INSERT INTO SUPPLY VALUES(4,11,200);

SELECT *FROM PART;
SELECT *FROM SUPPLIER;
SELECT *FROM SUPPLY;

SELECT PART.PNO
FROM PART,SUPPLIER,SUPPLY
WHERE PART.PNO=SUPPLY.PNO AND
SUPPLY.SNO=SUPPLIER.SNO AND
SUPPLIER.SNAME='RAM';

SELECT SUPPLIER.SNAME
FROM SUPPLIER,PART,SUPPLY
WHERE SUPPLIER.SNO=SUPPLY.SNO AND
SUPPLY.PNO=PART.PNO AND
PART.PNAME='BOLTS';

DELETE FROM PART
WHERE COLOUR='GREEN';

SELECT *FROM PART;
SELECT *FROM SUPPLIER;
SELECT *FROM SUPPLY;